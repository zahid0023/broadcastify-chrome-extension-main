{
  "manifest_version": 3,
  "name": "Capture and Transcribe",
  "description": "This extension captures the audio on the current tab and saves the output file on your computer when the capture is complete. You can then send it to assembly.ai to transcribe the speech.",
  "version": "1.0.0",
  "icons": {
    "128": "src/assets/logo.png"
  },
  "action": {
    "default_popup": "src/popup/index.html"
  },
  "background": {
    "service_worker": "src/background/index.js"
  },
  "content_scripts": [
    {
      "matches": ["<all_urls>"],
      "js": ["src/content/index.js"]
    }
  ],
  "permissions": [
    "activeTab",
    "downloads",
    "offscreen",
    "storage",
    "tabCapture",
    "tabs"
  ],
  "host_permissions": [
    "https://generativelanguage.googleapis.com/"
  ],
  "web_accessible_resources": [
    {
      "matches": ["<all_urls>"],
      "resources": [
        "src/encoders/libmp3lame.min.js",
        "src/offscreen/offscreen.html",
        "src/offscreen/offscreen.js",
        "src/save/complete.html",
        "src/upload/upload.css",
        "src/upload/upload.html",
        "src/upload/upload.js",
        "src/workers/mp3worker.js"
      ]
    }
  ],
  "options_page": "src/options/options.html"
}
